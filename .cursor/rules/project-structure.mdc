---
description: 
globs: 
alwaysApply: true
---
### ğŸ“ project-structure.mdc

#### Goal:
Ensure a clean, maintainable structure for a lightweight background remover app using U^2-Net, Cursor, Vercel, and Supabase (for hosting the API layer only).

---

#### Folder Structure
```
root/
â”œâ”€â”€ app/                      # Next.js App Directory
â”‚   â”œâ”€â”€ page.tsx             # Main page
â”‚   â””â”€â”€ api/                 # API routes (Next.js Serverless functions)
â”‚       â””â”€â”€ remove-bg/route.ts # Background removal endpoint
â”œâ”€â”€ components/              # Reusable UI components (Dropzone, Preview, etc.)
â”œâ”€â”€ lib/                     # Utility functions (image buffer, mime-type validation)
â”œâ”€â”€ public/                  # Static assets (favicon, sample images)
â”œâ”€â”€ styles/                  # Tailwind or global styles
â”œâ”€â”€ types/                   # TypeScript type definitions
â”œâ”€â”€ cursor/                  # Cursor project rules
â”‚   â””â”€â”€ *.mdc                # Modular cursor rules
â””â”€â”€ vercel.json              # Vercel config for edge/serverless deployment
```

---

#### Design Principles
- Keep components **fully client-side** unless they interact with U^2-Net.
- Serverless functions should only handle:
  - Image uploads
  - Forwarding to U^2-Net (hosted on Replicate or similar)
  - Returning processed image (no storage)
- Avoid monolithic components. Use modular, composable UI.
- Ensure all static UI is SSR-compatible for performance.

---

#### Naming Conventions
- Use kebab-case for folder and file names.
- Use PascalCase for components.
- Prefix server-side logic with `server-` or place them in `/api/`.

---

#### Rule Summary
âœ… Enforced:
- Modular code structure
- SSR-compatible static content
- Clean separation of client-side and serverless logic
- Cursor rules stored in `/cursor/` and scoped by domain

ğŸš« Avoid:
- Mixing UI and API logic
- Storing uploaded files unless needed (stateless approach)
- Global state libraries (too heavy for this app's scope)
